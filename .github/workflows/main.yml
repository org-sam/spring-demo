name: CI/CD Pipeline

on:
    push:

env:
    artifact-name: build-artifact

jobs:
    build:
        runs-on: ubuntu-latest
        container:
            image: public.ecr.aws/docker/library/gradle:7.3.3-jdk17-alpine
        steps:
            - name: Checkout source code
              uses: actions/checkout@v4
            - name: Build project
              run: |
                ./gradlew --version
                ./gradlew assemble --info
            - name: Upload artifacts
              uses: actions/upload-artifact@v4
              with:
                name: ${{ env.artifact-name }}
                path: ./build/*
                retention-days: 1